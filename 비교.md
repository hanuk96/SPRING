war jar의 차이

애플리케이션을 간단히 배포하고 어느 환경에서나 구동할 수 있도록 소스나 관련 파일들을 패키징 한것



jar: java archive - jre만 있다면 프로젝트 구동이 가능하다

war: web application archive - web.xml을 통해서 path 설정을 따로 해주어야함 - web 서버나 web container가 있어야 구동이 가능하다



jre jdk의 차이



jre는 jvm, java class library, 및 기타 인프라를 포함한 컴파일된 java 프로그램을 실행하는데 필요한 패키지 -> java 프로그래밍 도구가 없음

jdk는 java를 사용하기 위해 필요한 모든 기능을 갖춘 java용 software development kit이다.

compiler jdb, javadoc과 같은 도구들이 있다. 프로그램을 생성하고 컴파일이 가능하다. -> javac와 같은 프로그래밍 도구가 같이 있다 



maven과 gradle

maven은 라이브러리들이 너무 많아져 관리하는 것이 힘들어지는 경우가 종종 발생하곤 한다. Maven은 이러한 문제를 해결해 줄수 있는 도구이다

gradle 메이븐의 경우 XML로 라이브러리를 정의하고 활용하도록 되어 있으나, Gradle의 경우 별도의 빌드스크립트를 통하여 사용할 어플리케이션 버전, 라이브러리등의 항목을 설정 할 수 있다.

gradle의 장점

- Build라는 동적인 요소를 XML로 정의하기에는 어려운 부분이 많다.
  - 설정 내용이 길어지고 가독성 떨어짐
  - 의존관계가 복잡한 프로젝트 설정하기에는 부적절
  - 상속구조를 이용한 멀티 모듈 구현
  - 특정 설정을 소수의 모듈에서 공유하기 위해서는 부모 프로젝트를 생성하여 상속하게 해야함 (상속의 단점 생김)
- Gradle은 그루비를 사용하기 때문에, 동적인 빌드는 Groovy 스크립트로 플러그인을 호출하거나 직접 코드를 짜면 된다.
  - Configuration Injection 방식을 사용해서 공통 모듈을 상속해서 사용하는 단점을 커버했다.
  - 설정 주입시 프로젝트의 조건을 체크할 수 있어서 프로젝트별로 주입되는 설정을 다르게 할 수 있다.

> Gradle은 메이븐보다 최대 100배 빠르다.



**웹 서버(Web Server)**
\- 정적인파일(html,js,이미지 파일 등)을 제공하기 위한 서버로, HTTP 프로토콜에 의해 제공
\- 정적인 파일로만 처리 가능한 것은 WAS로 요청을 넘기지않고 바로 요청 처리
 (자체적으로 처리할 수 없는 정보에 대해서는 WAS에 처리를 요청)
\- 요청이 많을 경우 웹서버에서는 웹문서를 WAS에서는 JSP페이지를 양분하여 처리 함으로서 서버 의 부담을 줄여주는 역할도 가능
\- 예) apache, nginx, gws, etc...

**웹 어플리케이션 서버(Web Application Server)**
\- 동적인 데이터를 제공하기 위한 서버, 웹서버에서 처리할 수 없는 동적인 정보를 처리하여 웹서버에 정적인 정보를 제공
\- 일반적으로 웹서버의 기능을 내제하고 있어 웹 서버 없이도 서비스가 가능
\- WAS와 DB가 연결되어 WAS에서 처리에 필요한 데이터를 꺼내와 원하는 정보로 가공
\- 예) tomcat, jeus, web logic, etc...

Web Server 기능들을 구조적으로 분리하여 처리하고자하는 목적으로 제시되었다.
분산 트랜잭션, 보안, 메시징, 쓰레드 처리 등의 기능을 처리하는 분산 환경에서 사용된다.
주로 DB 서버와 같이 수행된다.

그렇다면 WAS가 Web Server의 기능도 모두 수행하면 되지 않을까?
기능을 분리하여 서버 부하 방지
WAS는 DB 조회나 다양한 로직을 처리하느라 바쁘기 때문에 단순한 정적 컨텐츠는 Web Server에서 빠르게 클라이언트에 제공하는 것이 좋다.
WAS는 기본적으로 동적 컨텐츠를 제공하기 위해 존재하는 서버이다.
만약 정적 컨텐츠 요청까지 WAS가 처리한다면 정적 데이터 처리로 인해 부하가 커지게 되고, 동적 컨텐츠의 처리가 지연됨에 따라 수행 속도가 느려진다.
즉, 이로 인해 페이지 노출 시간이 늘어나게 될 것이다.
물리적으로 분리하여 보안 강화
SSL에 대한 암복호화 처리에 Web Server를 사용
여러 대의 WAS를 연결 가능
Load Balancing을 위해서 Web Server를 사용
fail over(장애 극복), fail back 처리에 유리
특히 대용량 웹 어플리케이션의 경우(여러 개의 서버 사용) Web Server와 WAS를 분리하여 무중단 운영을 위한 장애 극복에 쉽게 대응할 수 있다.
예를 들어, 앞 단의 Web Server에서 오류가 발생한 WAS를 이용하지 못하도록 한 후 WAS를 재시작함으로써 사용자는 오류를 느끼지 못하고 이용할 수 있다.
여러 웹 어플리케이션 서비스 가능
예를 들어, 하나의 서버에서 PHP Application과 Java Application을 함께 사용하는 경우
기타
접근 허용 IP 관리, 2대 이상의 서버에서의 세션 관리 등도 Web Server에서 처리하면 효율적이다.
즉, 자원 이용의 효율성 및 장애 극복, 배포 및 유지보수의 편의성 을 위해 Web Server와 WAS를 분리한다.
Web Server를 WAS 앞에 두고 필요한 WAS들을 Web Server에 플러그인 형태로 설정하면 더욱 효율적인 분산 처리가 가능하다.
https://gmlwjd9405.github.io/2018/10/27/webserver-vs-was.html